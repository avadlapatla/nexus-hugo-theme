{{ if .Site.Menus.main }}
<nav class="site-nav">
  <ul class="navbar-nav">
    {{ $currentPage := . }}
    {{ range .Site.Menus.main }}
      {{ if .HasChildren }}
        <li class="nav-item dropdown{{ if $currentPage.HasMenuCurrent "main" . }} active{{ end }}">
          <a class="nav-link" href="{{ .URL }}" aria-expanded="false">
            <span class="nav-text">{{ .Name }}</span>
            <span class="nav-indicator">
              <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="6 9 12 15 18 9"></polyline>
              </svg>
            </span>
          </a>
          <ul class="dropdown-menu">
            {{ range .Children }}
              <li class="dropdown-item-wrapper {{ if $currentPage.IsMenuCurrent "main" . }}active{{ end }}">
                <a class="dropdown-item" href="{{ .URL }}">{{ .Name }}</a>
              </li>
            {{ end }}
          </ul>
        </li>
      {{ else }}
        <li class="nav-item{{ if $currentPage.IsMenuCurrent "main" . }} active{{ end }}">
          <a class="nav-link" href="{{ .URL }}">
            <span class="nav-text">{{ .Name }}</span>
            <span class="nav-line"></span>
          </a>
        </li>
      {{ end }}
    {{ end }}
  </ul>
  {{ if .Site.Params.navCTA }}
  <div class="nav-cta">
    <a href="{{ .Site.Params.navCTA.URL }}" class="btn btn-primary nav-btn">
      {{ .Site.Params.navCTA.Text }}
    </a>
  </div>
  {{ end }}
</nav>
{{ end }}
